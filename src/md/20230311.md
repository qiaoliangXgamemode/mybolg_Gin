# New Windows系统进行普通型优化
*作书 ：昼湖先生*

想必各位装上新Windows系统后，都需要针对属于自己独有的设备进行个人优化，微软深知自己对系统的优化，微软也对大众需求进行针对优化，但是有一些优化并不适合自己的设备，我们可以花一点点时间做属于自己的优化。
<ul>
<li><a href="#1">个性化优化</a></li>
<li><a href="#2">Windows设置优化</a></li>
<li><a href="#3">I/O 优化 (读写优化)</a></li>
<li><a href="#4">服务分析与禁用</a></li>
<li><a href="#5">网络优化</a></li>
<li><a href="#6">驱动补全和运行库补全</a></li>
<li><a href="#7">性能分析</a></li>
<li><a href="#8">其他优化</a></li>
<li><a href="#9">典型</a></li>
</ul>

![IMGAGE](./index/20230311/1.jpg)


## 所需的软件

```
# Bandizip
# dism++
# OpenAL
# Windows Terminal
# 游戏加加
# .Net Framework 4.7.2
# .Net Framework 4.8
# .Net 6.0
# Zulu Java8
# Zulu Java19
# CPU-Z
# 3DMark
# Displayx
# AIDA64
# Intel® Memory Latency Checker
# Dism++
(不分排名,谢谢软件安装下载属于每个人的自由)
```

<div id="1"></div>
## 个性化优化
*Windows个性化设置*
### Windows Terminal
#### 打开 *微软Store* > 搜索 “Windows Terminal” > 安装即可
```
Windows Terminal 支持多标签CMD、Powershell、同时 Windows 11 后把该程序作为默认的 CMD
```
![IMGAGE](./index/20230311/WindowsTerminal.png)
<div id="2"></div>
## Windows设置优化
*不同的人拥有属于自己的样式，有的人背景喜欢上Wallpaper Engine，有的喜欢单调的风景，然而这些设置并不是对您有益，一切取决于个人喜爱*
### 屏幕显示设置
#### *设置* > *系统* > *显示* > *流式传输 HDR 视频* > 点击 *启用*

| 详细阅读 微软Docs -> [Windows HDR](https://support.microsoft.com/zh-cn/windows/%E5%9C%A8-windows-%E4%B8%8A%E6%B5%81%E5%BC%8F%E4%BC%A0%E8%BE%93-hdr-%E8%A7%86%E9%A2%91-2e98fc86-5358-d6bc-1e22-d0e416d3c704)

### 显示器刷新率
#### *设置* > *系统* > *显示* > *高级显示设置* > 刷新率

| 有一些显示器可能需要手动设置，有一些Windows会自动检测选择

### 程序图像设置
#### *设置* > *系统* > *显示* > *图形设置* > 选择 桌面应用

| 比较针对与笔记本

| 设置不同的 *应用* 或者 *游戏* 可选择不同的 GPU

### 开发者选项
#### *设置* > *更新与安全* > *开发者选项* > 启用 *开发人员模式*

| 这个选择不管是谁都适合开启，开启这个无害，反而多出一些功能。
<div id="3"></div>
## I/O 优化 (读写优化)
*I/O 读写性能依赖于硬件，硬件提升也是性能提升最大效果，有时候 系统 的调度往往不合理，导致硬件性能可能会有一些的损失，同时 软件的读写量大小和软件的优化也取决于读写性能。*

### 关闭 Windows Search 索引器
#### *Win键* > 输入 *服务* > 找到 **Windows Search** 双击 > *启动类型* 设置为 *禁用*

| 关闭 Windows Searc 只是针对性能较低的配置 或 机械硬盘 起效果，如果是 固态硬盘 这个影响可以略微不计。

| 别百度所谓的 “关闭就能降低CPU占用率，磁盘占用率，那些都是 2014年产物奔腾系列 渣机”，“降低CPU占用率” 是因为索引器在进行索引集合导致的CPU占用率上升。

| 可用 Everything 替代，不过 Windows Search 需要改成 手动，Everything 也依赖 索引器
### 优化驱动器
#### *Win键 + E* > 对任意一个 *磁盘* 右键 > *属性* > 工具 > 点击 *优化* > 只对机械硬盘优化

| 优化驱动器 对 SSD 寿命会有略微影响，我个人建议只针对 机械硬盘

| 对 SSD 优化只需要一次

| Windows 10 后会自动对 SSD 启用 RTIM，可以 搜索相关知识 参考 SSD TRIM

### 更改 U盘 的策略
#### *Win键 + E* > 对任意一个 **U盘** 右键 > *属性* > 硬件 > 找到U盘双击打开 > 点击 “常规” > 点击 “改变设置” > “策略” > 点击 “更好的性能”

| 更改后有助于 U盘 的读写，效果并不是很理想，至少有提升

### 关闭 Windows 写入高速缓存缓冲区刷新
#### *Win键 + E* > 对任意一个 *磁盘* 右键 > *属性* > 硬件 > 点击任意一个 *磁盘* > 策略 > 勾选 *关闭设备上的 Windows 写入高速缓存缓冲区刷新*

| 此选项只对于安装有 特殊驱动 或者 笔记本SSD 有用

| 此功能会影响 M.2 速度

| 一些驱动 列如：英特尔(R) 快速储存技术，安装完这个驱动并且启用后，可以关掉 Windows写入高速缓存缓冲区刷新 ，如果不关闭反而这个驱动的效果不显著。

### 虚拟内存
#### *Win键 + E* > 对任意一个 *位置* 右键 > *属性* > 高级系统设置 > 找到 “性能” > 点击设置 > 高级 > 找到 “虚拟内存”  > 点击更改 > 选择固态硬盘

| 请默认 *系统管理的大小*

| 别信百度，难道你比微软还懂？

| 建议 *虚拟内存* 设置在 *固态硬盘*，提升响应速度
<div id="4"></div>
## 服务分析与禁用
*准备好禁用无用的服务了吗？禁用服务可以导致Windows无法正常使用情况，可以导致应用崩溃，可以导致无法连接互联网，你准备好了吗？（ 病句*

*请先打开 **服务** ，Win键 > 输入 **服务** > 打开 **服务***

### 分析
```
1.对一个服务进行分析时，应查看他的名称和介绍，不过有时候一些病毒会伪装成很长的介绍来达到误以为 Windows的服务
2.对于注入驱动的服务，可以优先想到 Winpe 进行删除
3.广告的服务可以追踪来源，并且搭配软件删除
4.服务的依赖相关那个，进行追踪
```

### 禁用 Windows Update
#### 双击 *Windows Update* ，对其禁用即可
| 影响：你更新系统吗?

### SysMain
#### 双击 *SysMain*

| *机械硬盘* 请直接禁用

| 系统装 *固态硬盘*，虚拟内存设置在 *固态硬盘*，此功能开启无影响

| 系统装 *固态硬盘*，虚拟内存设置在 *机械硬盘*，此功能开启有影响

| 系统装 *机械硬盘*，虚拟内存设置在 *机械硬盘*，此功能开启有影响

| 硬盘的性能跟此 服务 有关系，硬盘性能不行，那么服务跟着累

```
摆烂了，自己分析
```
<div id="5"></div>
## 网络优化
*网络质量与本地运营商设备有着息息相连的关系，不仅如此还与网络设备有关，在这繁华的互联网时代，物联网的设备要求网络设备在不断提升*

### 设备升级
```
1.升级网线达到 Cat.5e （目前所有家庭用户的线都满足Cat.5e，不妨看看是不是HSYV-5E，HSYV-5E，Cate5E）
2.路由器桥接光猫 （路由器性能必须优良，不然性能反向增加）
3.无线局域网的协议最好达到 WIFI 6
4.有无线增强什么破玩意，最好是靠近WIFI满格范围。怎么测试呢，你的手机连主路由器WIFI，如何走，哪里降低了一格 到 两格，就把WIFI放大器安装在这个范围内。
5.移动端和电脑端的硬件性能要跟得上
```

### 工信部投诉网络质量
```
1.如果你当地运营商设备很糟糕，体验游戏延迟很糟糕，那么建议您上微信小程序向工信部投诉。
```
### 为什么不学百度的方法

| 1.禁用Nagle算法，并不能得到实际性的效果，甚至有些 *程序* 或者 *游戏*，已经禁用掉 *tcp_nodelay* ，*tcp_nodelay*与Nagle算法有关系，不懂可以了解TCP Nagle算法，UDP没有Nagle算法。

| 2.启用STCP，STCP堵塞控制实际上是高吞吐用的，也不能完全怎么说，这个比较适合服务器。推荐默认 Cubic 就行。

| 3.修改Windows TCP参数，修改能救你几会啊，微软又不是不知道用户的需求量，并且你又不是Linux，Linux是优化TCP参数。


### DNS 更改
```
114 DNS自动给你推荐广告，你觉得你信百度？
我推荐这些DNS
Google DNS ： 首选 8.8.8.8 | 备选 8.8.4.4
Aliyun DNS ： 首选 223.5.5.5 | 备选 223.6.6.6
```
<div id="6"></div>
## 驱动补全和运行库补全
*驱动补全利于系统稳定、硬件性能发挥、安全性提升、游戏正常启动等等，同时运行库的补全对 程序 是否能正常运行所用，两者不可缺一。*

### 驱动补全
| 需要手动寻找属于自己的 品牌 和 型号，下载对应的驱动进行补全。

| NVIDIA 显卡驱动补全 https://www.nvidia.cn/geforce/drivers/

| AMD 显卡驱动补全 https://www.amd.com/zh-hans/support

| 华硕ASUS 驱动补全 https://www.asus.com.cn/support/

#### 最小白的办法（我为了偷懒也用）
| 360驱动大师 http://dm.weishi.360.cn/home.html

### 运行库补全
| 运行库补全是针对 应用程序 和 游戏无法打开所用
#### 下载游戏加加

| 游戏加加 https://gamepp.com/

| 对应右上角的 “三” > 看到“运行库修复” > 进行修复

#### 额外运行库补全
```

| .Net Framework 4.7.2 https://dotnet.microsoft.com/en-us/download/dotnet-framework/net472

| .Net Framework 4.8 https://dotnet.microsoft.com/en-us/download/dotnet-framework/net48

| .Net 6.0 https://dotnet.microsoft.com/en-us/download

| Zulu Java8 https://www.azul.com/downloads/?version=java-8-lts&os=windows&architecture=x86-64-bit&package=jdk

| Zulu Java19 https://www.azul.com/downloads/?version=java-19-sts&os=windows&architecture=x86-64-bit&package=jdk
```

#### OpenAL
| 这是一个对于性能较低的显卡进行优化的 程序，我推荐 *GTX 1050* 以下安装此 程序 来兼容DX12并且提升性能

| 微软Store > 搜索“OpenAL” > 安装 > 重启
<div id="7"></div>
## 性能分析
*性能分析是评估硬件的性能所产生的词语，为什么要进行性能分析，因为性能分析能对 操作系统 和 硬件性能进行评估，推理出问题、指标、质量所在的重要一席之位。性能分析 与 实测 始终有差距之分，性能分析所出的结果经供参考，主体是看实际测试。*

### 资源管理器
#### 使用 资源管理器 对应用进行观察分析CPU、GPU、硬盘读写量、内存使用率的情况。

### CPU-Z
#### 分析自己的CPU跑分，并且对CPU指令集，构架，频率有所了解，评估这个CPU的性能。
| 温馨提示：最好使用新版的CPU-Z，旧版本读不出 DDR5 内存条

### 3DMark
#### 通过直观的分数分析自己的综合性能，同时分析GPU对于 DX11 和 DX12 的性能区别。

### Displayx
#### 对屏幕的色域、对比度、灰度、色彩、延迟时间进行测试，通过测试结果对屏幕综合进行分析

### AIDA64
#### 综合检测硬件，并且可以用来测试 CPU Cache和内存延迟、CPU/GPU烤鸡、硬盘测试，观察延迟分析 CPU Cache性能 和 内存时序与内存延迟。

### Intel® Memory Latency Checker
#### 英特尔®内存延迟检查器 可以对内存进行延迟检测，从而分析内存问题。

| Intel® Memory Latency Checker Url -> 英特尔®内存延迟检查器

### Dism++
#### 使用 Dism++ 可快速关闭 “快速启动” 导致的 Windows 越用越卡问题，并且可以关闭远程协助的CVE漏洞（已被修复），同时可以清理一些没用的旧显卡驱动。

| Dism++ Url -> https://dism.cf/
<div id="8"></div>
## 其他优化
### Windows Defender 关闭内核隔离
#### Windows Defender 内核隔离 是把你的电脑虚拟化成另一台电脑，从而无法让恶意程序进行内存注入，更改一些系统设置。
| 负优化 会导致 I/O 有略微影响，内存延迟上升，CPU利用率略微降低

| 我的建议：关掉

![IMGAGE](./index/20230311/HVCI.png)
<div id="9"></div>
## 典型

### 刚刚从ROG出来
#### 怎么刚刚从ROG玩家国度出来，ROG玩家国度就发微博向我道歉呢？
![IMGAGE](./index/20230311/rog.webp)

### USB2.0 上网
#### 网速怎么慢，咋回事啊？
![IMGAGE](./index/20230311/usb2.0.jpg)

### 刚刚升级 Windows
#### tnnd，内存延迟怎么起飞了。
![IMGAGE](./index/20230311/ddr.jpg)

### 10G人类感谢我，25G呢？
#### 英特尔从此不再做CUP
![IMGAGE](./index/20230311/25g.jpg)